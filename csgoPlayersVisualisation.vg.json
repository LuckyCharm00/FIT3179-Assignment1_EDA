{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "title": "Number of Active CS:GO Players Per Team July 2015 - Feb 2020",
  "width": 800,
  "height": 400,
  "projection": {"type": "equalEarth"},
  "data": {"url": "https://raw.githubusercontent.com/LuckyCharm00/FIT3179_29081386_Repo/main/ne_110m.json",
           "format": {"type": "topojson", 
                      "feature": "ne_110m_admin_0_countries"}},
  "transform": [{"lookup": "properties.NAME",
                  "from": {"data": {"url": "https://raw.githubusercontent.com/LuckyCharm00/FIT3179_29081386_Repo/main/players_in_each_country.csv"},
                            "key": "country",
                            "fields": ["total_player", "total_team"]}},
                {"calculate": "datum.total_player/datum.total_team",
                 "as": "Players per team"}],
  "mark": {"type": "geoshape"},
  "encoding": {"color": {"field": "Players per team",
                          "type": "quantitative",
                          "scale": {"type": "threshold",
                                    "domain": [2,5,10],
                                    "range": ["#fdbe85", "#fd8d3c", "#e6550d", "#a63603"]}},
               "tooltip": [{"field": "properties.NAME", 
                            "type": "nominal", 
                            "title": "Country"},
                            {"field": "Players per team", 
                            "type": "quantitative",
                            "format": ".2f"},
                           {"field": "total_player", 
                            "type": "quantitative"},
                            {"field": "total_team", 
                            "type": "quantitative"}]}
}